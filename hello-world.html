<!DOCTYPE html>
<html>
  <head>
    <title>
      Hello World
    </title>
    <meta content='text/html; charset=UTF8' http-equiv='content-type'>
    <meta content='Create a Flatpak application in five minutes.' name='description'>
    <meta content='bundle,application,runtime,flatpak,xdg-app' name='keywords'>
    <meta content='width=device-width,initial-scale=1' name='viewport'>
    <link href='img/favicon.png' rel='icon' type='image/png'>
    <link href='/favicon.ico' rel='shortcut icon' type='image/x-icon'>
    <link href='img/favicon57.png' rel='apple-touch-icon' sizes='57x57'>
    <link href='img/favicon152.png' rel='apple-touch-icon' sizes='152x152'>
    <link href="stylesheets/fonts.css" rel="stylesheet" />
    <link href="stylesheets/site.css" rel="stylesheet" />
    <link href="stylesheets/animate.css" rel="stylesheet" />
    <!-- = stylesheet_link_tag "http://overpass-30e2.kxcdn.com/overpass.css" -->
  </head>
  <script src="javascripts/jquery-2.2.4.min.js"></script>
  <script src="javascripts/jquery.easing.min.js"></script>
  <script src="javascripts/jquery.toc.min.js"></script>
  <script src="javascripts/bootstrap.js"></script>
  <script src="javascripts/all.js"></script>
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-68811788-1', 'auto');
    ga('send', 'pageview');
  </script>
  <body id='page-top'>
    <nav class='navbar navbar-default navbar-fixed-top' id='mainNav'>
      <div class='container-fluid'>
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class='navbar-header'>
          <button class='navbar-toggle collapsed' data-target='#bs-example-navbar-collapse-1' data-toggle='collapse' type='button'>
            <span class='sr-only'>Toggle navigation</span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
            <span class='icon-bar'></span>
          </button>
          <a class="navbar-brand page-scroll" href="./">Flatpak</a>
        </div>
        <div class='collapse navbar-collapse' id='bs-example-navbar-collapse-1'>
          <ul class='nav navbar-nav navbar-right'>
            <li>
              <a class="page-scroll" href="about.html">About & Contact</a>
            </li>
          </ul>
          <!-- /.navbar-collapse -->
        </div>
      </div>
      <!-- /.container-fluid -->
    </nav>
  </body>
  <section class=""><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1">
  <h1>Hello World</h1>
  
  <p>Developers can quickly get started using the tutorial below. More detailed information is available in the <a href="http://docs.flatpak.org/">Flatpak developer documentation</a>.</p>
  
  <h2>1. Install Flatpak</h2>
  
  <p>First we need to install Flatpak itself, and the flatpak-builder build tool. The instructions here are for Fedora or Ubuntu. Details for other distros can be found on the <a href="getting.html">getting Flatpak page</a>.</p>
  
  <p>If you are using Fedora, run:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>sudo dnf install flatpak-builder</pre>
  
  <p>On Ubuntu, Flatpak is available through a PPA. To install it, run:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>sudo add-apt-repository ppa:alexlarsson/flatpak&#x000A;<span class="unselectable">$ </span>sudo apt update&#x000A;<span class="unselectable">$ </span>sudo apt install flatpak-builder</pre>
  
  <h2>2. Install a runtime and a Sdk</h2>
  
  <p>Flatpak requires every app to specify a runtime that it uses for its basic dependencies.
  In this tutorial we will use the Freedesktop runtime version 1.6.
  To install the runtime, we first need to set up access to the flathub repository where it is available. Run:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo</pre>
  
  <p>In addition to the runtime itself, there is a related Sdk (Software Development Kit), which contains all the things that
  are in the runtime, and additionally all that you need to build applications against it. This includes compilers, development
  tools, headers and similar things that are typically packages in -devel/-dev packages on traditional distributions.</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak install flathub org.freedesktop.Platform//1.6 org.freedesktop.Sdk//1.6</pre>
  
  <h2>3. Create your app</h2>
  
  <p>In this example we&#39;re doing something very simple, so add the following to a file and save it as <code>hello.sh</code>:</p>
  
  <pre>&#x000A;#!/bin/sh&#x000A;echo "Hello world, from a sandbox"</pre>
  
  <p>In a more typical scenario you already have an application that you want to package.</p>
  
  <h2>4. Name your application</h2>
  
  <p>In flatpak applications are refered to by their application id, which is a unique identifier in reverse-DNS style.
  For example <code>org.gnome.gedit</code> or <code>net.supertuxkart.SuperTuxKart</code>. Chosing the right id is important, as it is hard to
  change this later. The rules for flatpak names are the same as those for dbus names, and if your application is using
  dbus then the id should should match the dbus name.</p>
  
  <p>If the application doesn&#39;t have a dbus name you should pick a name based on some dns namespace you own. Projects often already
  have a web presence, or are related to some project that does. If the project is on github you can use the user.github.io
  domain that gives you.</p>
  
  <p>In this example we will use the name <code>org.flatpak.Hello</code>.</p>
  
  <h2>5. Write a manifest</h2>
  
  <p>Most flatpak applications are build using a tool called flatpak-builder. flatpak-builder takes a description of the build
  called a manifest, which is a json file. So, add the following to a file called <code>org.flatpak.Hello.json</code>:</p>
  
  <pre>&#x000A;{&#x000A;    "app-id": "org.flatpak.Hello",&#x000A;    "runtime": "org.freedesktop.Platform",&#x000A;    "runtime-version": "1.6",&#x000A;    "sdk": "org.freedesktop.Sdk",&#x000A;    "command": "hello.sh",&#x000A;    "modules": [&#x000A;        {&#x000A;            "name": "hello",&#x000A;            "buildsystem": "simple",&#x000A;            "build-commands": [&#x000A;                "install -D hello.sh /app/bin/hello.sh"&#x000A;            ],&#x000A;            "sources": [&#x000A;                {&#x000A;                    "type": "file",&#x000A;                    "path": "hello.sh"&#x000A;                }&#x000A;            ]&#x000A;        }&#x000A;    ]&#x000A;}</pre>
  
  <p>In a more complex application you would have multiple modules, where the last one is typically
  the application itself, and the earlier ones are dependencies that you need to bundle with the
  application because they are not part of the runtime.</p>
  
  <h2>6. Build the application</h2>
  
  <p>To build the manifest we just run flatpak-builder and specify the json filename and a target directory where
  data will be installed:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak-builder app-dir org.flatpak.Hello.json</pre>
  
  <p>This will build each module in the application and install it to /app, which will end up in the <code>app-dir</code> directory</p>
  
  <h2>7. Test the build</h2>
  
  <p>To verify that the build worked you can test the local build directly:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak-builder --run app-dir org.flatpak.Hello.json hello.sh</pre>
  
  <h2>8. Put the app in a repository</h2>
  
  <p>Congratulations, you&#39;ve made an app! To be able to install it, you need to put it in a repository.
  This is done by passing the <code>--repo</code> argument to flatpak-builder:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak-builder --repo=repo --force-clean app-dir org.flatpak.Hello.json</pre>
  
  <p>This does the build again, and at the end exports the result to a local directory called <code>repo</code> (which is
  initialized if needed). Note that flatpak-builder keeps a cache of previous builds in the .flatpak-builder
  subdirectory, so doing a second build like this is very fast. Also, this second time we passed in
  <code>--force-clean</code> which means the previously created app-dir was deleted before starting the new build.</p>
  
  <h2>9. Install</h2>
  
  <p>Now we&#39;re ready to add the repository that was just created and install the app. This is done with two commands:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak --user remote-add --no-gpg-verify tutorial-repo repo&#x000A;<span class="unselectable">$ </span>flatpak --user install tutorial-repo org.flatpak.Hello</pre>
  
  <p>This will install the remote and the app in the user&#39;s home directory due to the <code>--user</code> argument.
  Per-user installs are useful for test builds and other local things.</p>
  
  <p>Note that we had to add the remote with --no-gpg-verify since we didn&#39;t specify a gpg key when building the application.
  This is fine for testing, but for official repositories you should sign them with a private gpg key.</p>
  
  <h2>10. Run</h2>
  
  <p>All that&#39;s left is to run the app. This can be done with:</p>
  
  <pre>&#x000A;<span class="unselectable">$ </span>flatpak run org.flatpak.Hello</pre>
  
  <p>This will print <code>Hello world, from a sandbox</code>.</p>
  
  <h1>The next steps</h1>
  
  <p>Ta da! That&#39;s it: you&#39;ve successfully built, installed and run your first Flatpak.</p>
  
  <p>For more details on how to package flatpaks, see the <a href="http://docs.flatpak.org/">developer documentation</a>.</p>
  
  <p>If you&#39;re packaging an application that is for general consumption we recommend that you add it
  to <a href="https://flathub.org/">Flathub</a>. That makes it easy for you to set up the distribution, an easier for
  users to find your application.</p>
  </div></div></div></section>
  <section class='bg-black' id='footer'>
    <div class='container'>
      <div class='row'>
        <div class='col-lg-3 col-lg-offset-1 col-sm-3 hidden-xs'>
          <a class='navbar-brand page-scroll' href='#page-top'>
            <img title="Flatpak" class="full" src="img/logo.svg" />
          </a>
        </div>
        <ul class='col-lg-7 col-lg-offset-0 col-sm-8 col-sm-offset-0 col-xs-7 col-xs-offset-2'>
          <li class='toplevel'>
            <a href="./">Home</a>
          </li>
          <li class='toplevel'>
            <!-- id links on index page -->
            <a class="page-scroll" href="https://flathub.org/apps.html">Find Applications</a>
          </li>
          <li class='toplevel'>
            <!-- id links on index page -->
            <a class="page-scroll" href="http://docs.flatpak.org/">Developer Documentation</a>
          </li>
          <li class='toplevel'>
            <!-- id links on index page -->
            <a class="page-scroll" href="/press">Press</a>
          </li>
          <li class='toplevel'>
            <!-- id links on index page -->
            <a class="page-scroll" href="faq.html">FAQ</a>
          </li>
          <li class='toplevel'>
            <!-- id links on index page -->
            <a class="page-scroll" href="about.html">About & Contact</a>
          </li>
        </ul>
        <div class='col-lg-1 col-sm-1 col-xs-1'>
          <a href="https://twitter.com/FlatpakApps">
          <?xml version="1.0" encoding="UTF-8" standalone="no"?>
          <svg
             xmlns:dc="http://purl.org/dc/elements/1.1/"
             xmlns:cc="http://creativecommons.org/ns#"
             xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
             xmlns:svg="http://www.w3.org/2000/svg"
             xmlns="http://www.w3.org/2000/svg"
             viewBox="0 0 32 32"
             height="32"
             width="32"
             xml:space="preserve"
             version="1.1"
             id="svg7466"><metadata
               id="metadata7472"><rdf:RDF><cc:Work
                   rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
                     rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs
               id="defs7470" /><g
               transform="matrix(1.25,0,0,-1.25,0,31.999997)"
               id="g7474"><g
                 style="fill:#888a85"
                 transform="matrix(0.01061022,0,0,0.01061022,2.4158526,3.6660266)"
                 id="twitterbird"><path
                   id="path7478"
                   style="fill:#888a85;fill-opacity:1;fill-rule:nonzero;stroke:none"
                   d="m 2000,1432.96 c -73.58,-32.64 -152.67,-54.69 -235.66,-64.61 84.7,50.78 149.77,131.19 180.41,227.01 -79.29,-47.03 -167.1,-81.17 -260.57,-99.57 -74.84,79.75 -181.48,129.57 -299.5,129.57 -226.6,0 -410.328,-183.71 -410.328,-410.31 0,-32.16 3.628,-63.48 10.625,-93.51 -341.016,17.11 -643.368,180.47 -845.739,428.72 -35.324,-60.6 -55.5583,-131.09 -55.5583,-206.29 0,-142.36 72.4373,-267.95 182.5433,-341.53 -67.262,2.13 -130.535,20.59 -185.8519,51.32 -0.0391,-1.71 -0.0391,-3.42 -0.0391,-5.16 0,-198.803 141.441,-364.635 329.145,-402.342 -34.426,-9.375 -70.676,-14.395 -108.098,-14.395 -26.441,0 -52.145,2.578 -77.203,7.364 C 276.391,476.219 427.926,357.578 607.48,354.281 467.051,244.219 290.129,178.621 97.8828,178.621 64.7617,178.621 32.0977,180.57 0,184.359 181.586,67.9414 397.27,0 628.988,0 1383.72,0 1796.45,625.238 1796.45,1167.47 c 0,17.79 -0.41,35.48 -1.2,53.08 80.18,57.86 149.74,130.12 204.75,212.41" /></g></g></svg>
          </a>
          <style>
            #twitterbird path { transition: fill 400ms ease-in-out; }
            #twitterbird path:hover { fill: #fff !important; }
          </style>
        </div>
      </div>
    </div>
  </section>
</html>
